#------------------------------------------------------------
#        Script MySQL.
#------------------------------------------------------------

#------------------------------------------------------------
# CREation de la table
#------------------------------------------------------------
CREATE DATABASE M2L ; 
use M2L;
#------------------------------------------------------------
# Table: user_type
#------------------------------------------------------------

CREATE TABLE user_type(
        id_usertype  Int  Auto_increment  NOT NULL ,
        lib_usertype Varchar (64) NOT NULL ,
        description  Varchar (100) NOT NULL
	,CONSTRAINT user_type_PK PRIMARY KEY (id_usertype)
)ENGINE=InnoDB;


#------------------------------------------------------------
# Table: ligue
#------------------------------------------------------------

CREATE TABLE ligue(
        id_ligue  Int  Auto_increment  NOT NULL ,
        lib_ligue Varchar (64) NOT NULL
	,CONSTRAINT ligue_PK PRIMARY KEY (id_ligue)
)ENGINE=InnoDB;


#------------------------------------------------------------
# Table: user
#------------------------------------------------------------

CREATE TABLE user(
        id_user     Int  Auto_increment  NOT NULL ,
        pseudo      Varchar (20) NOT NULL ,
        mdp         Varchar (255) NOT NULL ,
        mail        Varchar (64) NOT NULL ,
        id_ligue    Int NOT NULL ,
        id_usertype Int NOT NULL
	,CONSTRAINT user_PK PRIMARY KEY (id_user)

	,CONSTRAINT user_ligue_FK FOREIGN KEY (id_ligue) REFERENCES ligue(id_ligue)
	,CONSTRAINT user_user_type0_FK FOREIGN KEY (id_usertype) REFERENCES user_type(id_usertype)
)ENGINE=InnoDB;


#------------------------------------------------------------
# Table: faq
#------------------------------------------------------------

CREATE TABLE faq(
        id_faq       Int  Auto_increment  NOT NULL ,
        auteur       Varchar (10) NOT NULL ,
        reponse      Varchar (120) NOT NULL ,
        dat_reponse  Datetime NOT NULL ,
        dat_question Datetime NOT NULL ,
        id_user      Int NOT NULL
	,CONSTRAINT faq_PK PRIMARY KEY (id_faq)

	,CONSTRAINT faq_user_FK FOREIGN KEY (id_user) REFERENCES user(id_user)
)ENGINE=InnoDB;

